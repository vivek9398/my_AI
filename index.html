<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Role Selector</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>AI Role Selector</h1>
            <p>Select a professional role to interact with an AI specialized in that domain</p>
        </header>
        
        <div class="settings-panel">
            <div class="api-key-container">
                <label for="apiKey">OpenAI API Key:</label>
                <input type="password" id="apiKey" placeholder="Enter your API key">
                <button id="saveApiKey">Save Key</button>
            </div>
            <div class="model-selector">
                <label for="modelSelect">Model:</label>
                <select id="modelSelect">
                    <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                    <option value="gpt-4">GPT-4</option>
                </select>
            </div>
        </div>
        
        <!-- Role grid with hardcoded role cards -->
        <div class="role-grid" id="roleGrid">
            <!-- Developer Role -->
            <div class="role-card" data-role-id="developer">
                <div class="role-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>Software Developer</h3>
                <p>Expert in programming, software architecture, and development best practices</p>
            </div>
            
            <!-- Designer Role -->
            <div class="role-card" data-role-id="designer">
                <div class="role-icon">
                    <i class="fas fa-palette"></i>
                </div>
                <h3>UX/UI Designer</h3>
                <p>Specialist in user experience, interface design, and visual aesthetics</p>
            </div>
            
            <!-- Data Scientist Role -->
            <div class="role-card" data-role-id="datascientist">
                <div class="role-icon">
                    <i class="fas fa-chart-line"></i>
                </div>
                <h3>Data Scientist</h3>
                <p>Expert in data analysis, machine learning, and statistical modeling</p>
            </div>
            
            <!-- Doctor Role -->
            <div class="role-card" data-role-id="doctor">
                <div class="role-icon">
                    <i class="fas fa-user-md"></i>
                </div>
                <h3>Medical Professional</h3>
                <p>Healthcare specialist with knowledge of medical practices and terminology</p>
            </div>
        </div>

        <!-- Chat container (initially hidden) -->
        <div class="chat-container" id="chatContainer" style="display: none;">
            <div class="chat-header">
                <button id="backButton"><i class="fas fa-arrow-left"></i> Back</button>
                <h2 id="currentRole">Role Name</h2>
            </div>
            <div class="chat-messages" id="chatMessages">
                <!-- Messages will appear here -->
            </div>
            <div class="chat-input">
                <textarea id="userInput" placeholder="Type your message here..."></textarea>
                <button id="sendButton"><i class="fas fa-paper-plane"></i></button>
            </div>
        </div>
    </div>
    
    <script src="roles.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Get DOM elements
            const roleCards = document.querySelectorAll('.role-card');
            const chatContainer = document.getElementById('chatContainer');
            const backButton = document.getElementById('backButton');
            const currentRoleElement = document.getElementById('currentRole');
            const chatMessages = document.getElementById('chatMessages');
            const userInput = document.getElementById('userInput');
            const sendButton = document.getElementById('sendButton');
            
            let currentRole = null;
            
            // Add click event to each role card
            roleCards.forEach(card => {
                card.addEventListener('click', () => {
                    const roleId = card.dataset.roleId;
                    const role = roles.find(r => r.id === roleId);
                    
                    if (role) {
                        selectRole(role);
                    }
                });
            });
            
            // Select a role and show the chat interface
            function selectRole(role) {
                currentRole = role;
                currentRoleElement.textContent = role.name;
                
                // Show chat interface and hide role grid
                document.querySelector('.role-grid').style.display = 'none';
                chatContainer.style.display = 'flex';
                
                // Clear previous messages
                chatMessages.innerHTML = '';
                
                // Add AI greeting message
                addMessage(role.greeting, 'ai');
                
                // Add knowledge areas as a welcome message
                const knowledgeMessage = `
                    <p>I can assist you with topics including:</p>
                    <ul style="margin-top: 10px; margin-left: 20px;">
                        ${role.knowledge.map(item => `<li>${item}</li>`).join('')}
                    </ul>
                    <p style="margin-top: 10px;">How can I help you today?</p>
                `;
                addMessage(knowledgeMessage, 'ai');
            }
            
            // Add a message to the chat
            function addMessage(text, sender) {
                const messageElement = document.createElement('div');
                messageElement.className = `message ${sender}-message`;
                messageElement.innerHTML = text;
                chatMessages.appendChild(messageElement);
                
                // Scroll to the bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }
            
            // Process user message and generate AI response
            function processUserMessage(message) {
                if (!message.trim()) return;
                
                // Add user message to chat
                addMessage(message, 'user');
                
                // Generate a simple response based on the role
                setTimeout(() => {
                    const response = generateSimpleResponse(currentRole, message);
                    addMessage(response, 'ai');
                }, 500);
            }
            
            // Generate a simple AI response based on the role and user message
            function generateSimpleResponse(role, message) {
                const lowercaseMessage = message.toLowerCase();
                
                // Check for keywords in the message
                if (lowercaseMessage.includes('hello') || lowercaseMessage.includes('hi')) {
                    return `Hello! I'm your ${role.name} assistant. How can I help you today?`;
                }
                
                if (lowercaseMessage.includes('help') || lowercaseMessage.includes('can you')) {
                    return `As a ${role.name}, I can help you with various topics related to ${role.description.toLowerCase()}. What specific information are you looking for?`;
                }
                
                if (lowercaseMessage.includes('thank')) {
                    return `You're welcome! Feel free to ask if you have any other questions about ${role.name.toLowerCase()} topics.`;
                }
                
                // Default response
                return `As a ${role.name}, I'd approach this by considering the context and specific details. Could you provide more information about what you're looking for?`;
            }
            
            // Event listeners
            backButton.addEventListener('click', () => {
                chatContainer.style.display = 'none';
                document.querySelector('.role-grid').style.display = 'grid';
                currentRole = null;
            });
            
            sendButton.addEventListener('click', () => {
                const message = userInput.value;
                processUserMessage(message);
                userInput.value = '';
            });
            
            userInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter' && !e.shiftKey) {
                    e.preventDefault();
                    sendButton.click();
                }
            });
        });
    </script>
</body>
</html>